<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Diff Checker - Daily Smart Tool</title>
    <meta name="description" content="Compare and find differences between two text documents. Free online text comparison tool.">
    <link rel="stylesheet" href="../style.css">
    <style>
        .diff-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .diff-result {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            min-height: 300px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', monospace;
        }
        .diff-added {
            background-color: #dcfce7;
            color: #166534;
        }
        .diff-removed {
            background-color: #fee2e2;
            color: #991b1b;
            text-decoration: line-through;
        }
        .diff-unchanged {
            background-color: transparent;
        }
        .diff-stats {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        @media (max-width: 768px) {
            .diff-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <a href="../index.html" class="logo">
                <div class="logo-icon">‚öôÔ∏è</div>
                <span>Daily Smart Tool</span>
            </a>
            <button class="mobile-menu-btn">‚ò∞</button>
            <button class="theme-toggle" title="Toggle dark mode">üåô</button>
            <nav>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../all-tools.html">All Tools</a></li>
                    <li><a href="text-case-converter.html">Text Tools</a></li>
                    <li><a href="../tools/image/image-resizer.html">Image Tools</a></li>
                    <li><a href="../tools/calculators/loan-calculator.html">Calculators</a></li>
                    <li><a href="../tools/converters/unit-converter.html">Converters</a></li>
                    <li><a href="../tools/generators/password-generator.html">Generators</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="breadcrumb">
        <div class="container">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li class="separator">/</li>
                <li><a href="../all-tools.html">All Tools</a></li>
                <li class="separator">/</li>
                <li><a href="#">Text Tools</a></li>
                <li class="separator">/</li>
                <li>Text Diff Checker</li>
            </ul>
        </div>
    </section>

    <main class="container">
        <section class="tool-page">
            <div class="tool-header">
                <h1>Text Diff Checker</h1>
                <p>Compare two text documents and find differences. Perfect for code comparison, document revisions, and plagiarism checks.</p>
            </div>
            
            <div class="tool-container">
                <div class="tool-main">
                    <div class="tool-input-area">
                        <div class="diff-container">
                            <div class="input-group">
                                <label for="text1">Original Text:</label>
                                <textarea id="text1" placeholder="Enter original text here..." style="font-family: 'Courier New', monospace; min-height: 250px;">The quick brown fox jumps over the lazy dog.
This is the original text for comparison.
Hello world!</textarea>
                            </div>
                            
                            <div class="input-group">
                                <label for="text2">Modified Text:</label>
                                <textarea id="text2" placeholder="Enter modified text here..." style="font-family: 'Courier New', monospace; min-height: 250px;">The quick brown fox jumps over the lazy dog.
This is the modified text for comparison.
Hello World! New line added.</textarea>
                            </div>
                        </div>
                        
                        <div class="tool-buttons">
                            <button class="btn btn-primary" id="compare-btn">Compare Texts</button>
                            <button class="btn btn-secondary" id="clear-btn">Clear All</button>
                            <button class="btn btn-success" id="copy-btn">Copy Result</button>
                            <button class="btn btn-secondary" id="swap-btn">Swap Texts</button>
                        </div>
                        
                        <div class="diff-stats" id="diff-stats">
                            <h4>Comparison Statistics:</h4>
                            <p id="stats-content">Click "Compare Texts" to see statistics</p>
                        </div>
                        
                        <div class="input-group">
                            <label for="diff-result">Difference Result:</label>
                            <div id="diff-result" class="diff-result">
                                Difference result will appear here...
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3>About This Tool</h3>
                            <p>The Text Diff Checker helps you compare two text documents and highlight differences between them. It's useful for:</p>
                            <ul>
                                <li>Code version comparison</li>
                                <li>Document revisions tracking</li>
                                <li>Plagiarism detection</li>
                                <li>Content editing and proofreading</li>
                                <li>Configuration file comparison</li>
                            </ul>
                            <p><strong>How it works:</strong> The tool compares text line by line and highlights added content in green and removed content in red.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tool-sidebar">
                    <div class="ad-banner vertical">Ad Space (300x250)</div>
                    
                    <h3>Related Text Tools</h3>
                    <ul class="related-tools">
                        <li><a href="text-case-converter.html">‚û§ Text Case Converter</a></li>
                        <li><a href="url-encoder.html">‚û§ URL Encoder/Decoder</a></li>
                        <li><a href="base64-encoder.html">‚û§ Base64 Encoder/Decoder</a></li>
                        <li><a href="html-encoder.html">‚û§ HTML Encoder</a></li>
                        <li><a href="remove-line-breaks.html">‚û§ Remove Line Breaks</a></li>
                    </ul>
                    
                    <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin-top: 20px;">
                        <h4>Legend</h4>
                        <p><span class="diff-added" style="padding: 2px 5px;">Added text</span> - New content in modified version</p>
                        <p><span class="diff-removed" style="padding: 2px 5px;">Removed text</span> - Content removed from original</p>
                        <p><span style="padding: 2px 5px; background: transparent;">Unchanged text</span> - Content that remained the same</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Daily Smart Tool</h3>
                    <p>Your one-stop destination for free online utilities, calculators, converters, and productivity tools.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="../all-tools.html">All Tools</a></li>
                        <li><a href="../about.html">About Us</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                        <li><a href="../privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Popular Categories</h3>
                    <ul class="footer-links">
                        <li><a href="text-case-converter.html">Text Tools</a></li>
                        <li><a href="../tools/image/image-resizer.html">Image Tools</a></li>
                        <li><a href="../tools/calculators/loan-calculator.html">Calculators</a></li>
                        <li><a href="../tools/converters/unit-converter.html">Converters</a></li>
                        <li><a href="../tools/developers/html-encoder.html">Developer Tools</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li>Email: contact@dailysmarttool.com</li>
                        <li>Feedback: feedback@dailysmarttool.com</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; <script>document.write(new Date().getFullYear())</script> Daily Smart Tool. All rights reserved. | Part of Safetyguide360 Network
            </div>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        // Text diff functionality
        function findDifferences(text1, text2) {
            const lines1 = text1.split('\n');
            const lines2 = text2.split('\n');
            const maxLength = Math.max(lines1.length, lines2.length);
            const result = [];
            let added = 0;
            let removed = 0;
            let unchanged = 0;
            
            for (let i = 0; i < maxLength; i++) {
                const line1 = lines1[i] || '';
                const line2 = lines2[i] || '';
                
                if (line1 === line2) {
                    result.push({
                        type: 'unchanged',
                        line: line1,
                        number: i + 1
                    });
                    unchanged++;
                } else if (line1 === '' && line2 !== '') {
                    result.push({
                        type: 'added',
                        line: line2,
                        number: i + 1
                    });
                    added++;
                } else if (line1 !== '' && line2 === '') {
                    result.push({
                        type: 'removed',
                        line: line1,
                        number: i + 1
                    });
                    removed++;
                } else {
                    // Lines are different
                    result.push({
                        type: 'removed',
                        line: line1,
                        number: i + 1
                    });
                    result.push({
                        type: 'added',
                        line: line2,
                        number: i + 1
                    });
                    removed++;
                    added++;
                }
            }
            
            return {
                differences: result,
                stats: {
                    added,
                    removed,
                    unchanged,
                    total: lines1.length + lines2.length,
                    similarity: ((unchanged * 2) / (lines1.length + lines2.length) * 100).toFixed(1)
                }
            };
        }

        function displayDifferences(diffResult) {
            const container = document.getElementById('diff-result');
            const stats = diffResult.stats;
            const differences = diffResult.differences;
            
            let html = '';
            differences.forEach(item => {
                let lineClass = 'diff-unchanged';
                let prefix = '';
                
                switch(item.type) {
                    case 'added':
                        lineClass = 'diff-added';
                        prefix = '+ ';
                        break;
                    case 'removed':
                        lineClass = 'diff-removed';
                        prefix = '- ';
                        break;
                    case 'unchanged':
                        prefix = '  ';
                        break;
                }
                
                const lineNumber = item.number.toString().padStart(3, ' ');
                html += `<div class="${lineClass}">${lineNumber} ${prefix}${escapeHtml(item.line)}</div>`;
            });
            
            container.innerHTML = html;
            
            // Update statistics
            const statsContent = document.getElementById('stats-content');
            statsContent.innerHTML = `
                <strong>Similarity:</strong> ${stats.similarity}%<br>
                <strong>Lines Added:</strong> ${stats.added}<br>
                <strong>Lines Removed:</strong> ${stats.removed}<br>
                <strong>Lines Unchanged:</strong> ${stats.unchanged}<br>
                <strong>Total Lines:</strong> ${stats.total}
            `;
            
            // Update diff-stats background based on similarity
            const diffStats = document.getElementById('diff-stats');
            const similarity = parseFloat(stats.similarity);
            if (similarity >= 90) {
                diffStats.style.background = '#f0fdf4';
                diffStats.style.borderColor = '#22c55e';
            } else if (similarity >= 70) {
                diffStats.style.background = '#fefce8';
                diffStats.style.borderColor = '#eab308';
            } else {
                diffStats.style.background = '#fef2f2';
                diffStats.style.borderColor = '#ef4444';
            }
        }

        function escapeHtml(text) {
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;")
                .replace(/ /g, "&nbsp;")
                .replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;");
        }

        document.getElementById('compare-btn').addEventListener('click', function() {
            const text1 = document.getElementById('text1').value;
            const text2 = document.getElementById('text2').value;
            
            if (!text1 && !text2) {
                alert('Please enter some text to compare.');
                return;
            }
            
            const diffResult = findDifferences(text1, text2);
            displayDifferences(diffResult);
        });

        document.getElementById('clear-btn').addEventListener('click', function() {
            document.getElementById('text1').value = '';
            document.getElementById('text2').value = '';
            document.getElementById('diff-result').innerHTML = 'Difference result will appear here...';
            document.getElementById('stats-content').innerHTML = 'Click "Compare Texts" to see statistics';
            document.getElementById('diff-stats').style.background = '#f0f9ff';
            document.getElementById('diff-stats').style.borderColor = '#0ea5e9';
        });

        document.getElementById('swap-btn').addEventListener('click', function() {
            const text1 = document.getElementById('text1');
            const text2 = document.getElementById('text2');
            const temp = text1.value;
            text1.value = text2.value;
            text2.value = temp;
        });

        document.getElementById('copy-btn').addEventListener('click', function() {
            const diffText = document.getElementById('diff-result').textContent;
            if (diffText && !diffText.includes('Difference result will appear here')) {
                navigator.clipboard.writeText(diffText).then(() => {
                    alert('Difference result copied to clipboard!');
                });
            } else {
                alert('Please compare some text first.');
            }
        });

        // Auto compare on input change with debounce
        let debounceTimer;
        function autoCompare() {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(() => {
                const text1 = document.getElementById('text1').value;
                const text2 = document.getElementById('text2').value;
                if (text1 || text2) {
                    const diffResult = findDifferences(text1, text2);
                    displayDifferences(diffResult);
                }
            }, 1000);
        }

        document.getElementById('text1').addEventListener('input', autoCompare);
        document.getElementById('text2').addEventListener('input', autoCompare);
    </script>
</body>
</html>